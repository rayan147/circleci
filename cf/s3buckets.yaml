AWSTemplateFormatVersion: "2010-09-09"
Description: "Creates three s3 buckets, prod,stage, and dev"


Mappings:
  BucketNames:
    prod: 
      name: prod-rayan147-bucket
    stage: 
      name: stage-rayan147-bucket
    dev: 
     name: dev-rayan147-bucket


Resources:
  ProdS3:
    Type: "AWS::S3::Bucket"
    Properties:
      BucketName: !FindInMap [BucketNames, prod, name]
      AccessControl: "PublicRead"
      VersioningConfiguration: 
        Status: "Enabled"
      WebsiteConfiguration:
            IndexDocument: "index.html"
            ErrorDocument: "error.html"
        
  StageS3:
    Type: "AWS::S3::Bucket"
    Properties:
      BucketName: !FindInMap [BucketNames, stage, name]
      AccessControl: "PublicRead"
      VersioningConfiguration: 
        Status: "Enabled"
      WebsiteConfiguration:
           IndexDocument: "index.html"
           ErrorDocument: "error.html"
      
  DevS3:
     Type: "AWS::S3::Bucket"
     Properties:
       BucketName: !FindInMap [BucketNames, dev, name]
       AccessControl: "PublicRead"
       VersioningConfiguration: 
            Status: "Enabled"
       WebsiteConfiguration:
            IndexDocument: "index.html"
            ErrorDocument: "error.html"
  